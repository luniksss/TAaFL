# Различия между PHP и Golang
В этом конспекте будут рассмотрены различия двух языков в лексике, синтаксисе и семантике. Будут затронуты следующие аспекты:  
- Синтаксис циклов, ветвлений, блоков кода
- Способ объявления типов переменных и параметров
- Набор типов данных
- Набор операторов: арифметических, логических, сравнения и других
- Описание пользовательских функций
- Описание пользовательских структур
- Управление памятью
- Обработка ошибок

## Основные различия
1) Компиляция:
   - PHP: Интерпретируемый язык  
   - Go: Компилируемый в нативный код
2) Применение:  
   - PHP: Ориентирован на веб-разработку
   - Go: Универсальный язык для различных задач
3) Стандартные библиотеки:  
   - Go имеет богатую стандартную библиотеку для различных задач
   - PHP больше полагается на расширения

## Синтаксис
### Циклы
в **PHP** есть разные ключевые слова для циклов:
- _for_ (для прохода с установкой начального элемента, условия конца и шага)
- _foreach_ (для прохода по каждому элементу)
- _while_ (для прохода по каждому, пока выполняется условие)
- _do-while_ (для прохода по каждому, пока выполняется условие, но 1 раз выполнится без его проверки)

в **Golang** есть только 1 ключевое слово для циклов - _for_ (тоже начальный элемент, условие, шаг), но с помощью этого же слова можно сделать проход по всем элементам без условия:  
`for key, value := range array {}`

### Ветвления кода
В обоих языках есть if, else, switch.  
Отличается написание добавочного условия ("другое условие"): в **php** это `elseif`, а в **go** - `else if`  
В PHP 8+ появился `match` - подобие `switch`, только проверка идет не через `==`, а `===`.  
Такого нет в Go, но зато у него есть кое-что покруче - `select`. Он тоже похож на `switch`, но работает с каналами. 

### Про блоки кода
И тут, и там блоки кода выделяются фигурными скобками. Различие в том, что **php** требует наличие разделяющего символа ";" между инструкциями, в **go** же он _не требуется_  


## Способ объявления типов переменных и параметров
В языках разная типизация:  
- у PHP она динамическая(тип переменной может меняться во время выполнения программы)
  ```
  $var = 10;
  $var = "text";
  ```
- у Go - статическая
  ```
  var num int = 10
  str := "text"
  ```  

  Для параметров функций тоже условия в языках различны в **PHP** с 7 типы параметров указываются опционально, а если и указываются, то перед названием переменной, в **Go** они обязательны и пишутся после названия переменной  

## Типы данных
- PHP: int, float, string, bool, array, null, объекты  
- Go (более богатая система): string, bool, int8-64, uint8-64, float32/64, complex64/128, rune, byte, struct, slice, map, pointer, массивы

## Набор операторов
1) Оба языка поддерживают все арифметические операторы: +, -, *, /, %  
2) Оба языка поддерживают некоторые операторы сравнения: ==, !=, <, >, <=, >=  
**PHP**: Дополнительно ===, !== (строгое сравнение)  
**Go**: Нет строгого сравнения типов  
3) Оба языка поддерживают логические операторы &&, ||, !  
 Но PHP также поддерживает and, or, xor

## Описание пользовательских функций
### Объявление
**PHP:** `function name($param) { return $value; }`  
**Go:** `func name(param type) returnType { return value }`

### Различие
Go может возвращать несколько значений явно, PHP же сделает это лишь через массив  

## Описание пользовательских структур
Проще показать на примерах:  
**php**:  
```
class User {
    public string $name;
    public function __construct(string $name) {
        $this->name = $name;
    }
}
```  
**go**:  
```
type User struct {
    Name string
}

func (u User) GetName() string {
    return u.Name
}
```
## Управление памятью (производительность)  
Оба языка имеют автоматическое управление памятью(сборщики мусора).  
Но стоит помнить, что PHP - интерпретируемый язык, в то время как Golang - компилируемый. Поэтому Golang имеет **более высокую** производительность. Кроме того, этот язык _поддерживает параллелизм_ и оптимизирован для _эффективного использования памяти и CPU_.  

## Обработка ошибок
Языки по-разному обрабатывают ошибки. В PHP они отлавливаются через try/catch:  
```
try
{
  method();
}
catch (Exception $e)
{
  handle($e);
}
```

в Go же возвращаются из функций и обрабатываются явно через проверки на if:  
```
result, err := method()
if err != nil { handle(err) }
```
